/*
 * Responsively Lazy
 * http://ivopetkov.com/b/lazy-load-responsive-images/
 * Copyright 2015-2017, Ivo Petkov
 * Free to use under the MIT license.
*/
var responsivelyLazy=function(){var t=!1,n=null,q=null,m="undefined"!==typeof IntersectionObserver,u=function(a){if(null===n)return!1;var d=a.getBoundingClientRect();a=d.top;var b=d.left,g=d.width,d=d.height;return a<q&&0<a+d&&b<n&&0<b+g},r=function(a,d){var b=d.getAttribute("data-srcset");if(null!==b)if(b=b.trim(),0<b.length){for(var b=b.split(","),g=[],k=b.length,f=0;f<k;f++){var c=b[f].trim();if(0!==c.length){var h=c.lastIndexOf(" ");if(-1===h)var e=c,c=999998;else e=c.substr(0,h),c=parseInt(c.substr(h+
1,c.length-h-2),10);h=!1;-1!==e.indexOf(".webp",e.length-5)?t&&(h=!0):h=!0;h&&g.push([e,c])}}g.sort(function(e,b){if(e[1]<b[1])return-1;if(e[1]>b[1])return 1;if(e[1]===b[1]){if(-1!==b[0].indexOf(".webp",b[0].length-5))return 1;if(-1!==e[0].indexOf(".webp",e[0].length-5))return-1}return 0});b=g}else b=[];else b=[];g=a.offsetWidth*window.devicePixelRatio;e=null;k=b.length;for(f=0;f<k;f++)if(c=b[f],c[1]>=g){e=c;break}null===e&&(e=[d.getAttribute("src"),999999]);"undefined"===typeof a.responsivelyLazyLastSetOption&&
(a.responsivelyLazyLastSetOption=["",0]);a.responsivelyLazyLastSetOption[1]<e[1]&&(a.responsivelyLazyLastSetOption=e,b=e[0],"undefined"===typeof a.responsivelyLazyEventsAttached&&(a.responsivelyLazyEventsAttached=!0,d.addEventListener("load",function(){var e=a.getAttribute("data-onlazyload");null!==e&&(new Function(e)).bind(a)()},!1),d.addEventListener("error",function(){a.responsivelyLazyLastSetOption=["",0]},!1)),b===d.getAttribute("src")?d.removeAttribute("srcset"):d.setAttribute("srcset",b))},
l=function(){var a=function(a,b){for(var d=a.length,k=0;k<d;k++){var f=a[k],c=b?f:f.parentNode;u(c)&&r(c,f)}};a(document.querySelectorAll(".responsively-lazy > img"),!1);a(document.querySelectorAll("img.responsively-lazy"),!0)};if("srcset"in document.createElement("img")&&"undefined"!==typeof window.devicePixelRatio&&"undefined"!==typeof window.addEventListener&&"undefined"!==typeof document.querySelectorAll){var n=window.innerWidth,q=window.innerHeight,p=new Image;p.src="data:image/webp;base64,UklGRiQAAABXRUJQVlA4IBgAAAAwAQCdASoCAAEADMDOJaQAA3AA/uuuAAA=";
p.onload=p.onerror=function(){t=2===p.width;if(m){var a=function(){for(var e=document.querySelectorAll(".responsively-lazy"),b=e.length,a=0;a<b;a++){var c=e[a];"undefined"===typeof c.responsivelyLazyObserverAttached&&(c.responsivelyLazyObserverAttached=!0,d.observe(c))}},d=new IntersectionObserver(function(e){for(var b in e){var a=e[b];if(0<a.intersectionRatio)if(a=a.target,"img"!==a.tagName.toLowerCase()){var c=a.querySelector("img");null!==c&&r(a,c)}else r(a,a)}});l()}else{var b=window.requestAnimationFrame||
window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(a){window.setTimeout(a,1E3/60)},g=!0,k=function(){g&&(g=!1,l());b.call(null,k)},f=function(){g=!0},c=function(){for(var a=document.querySelectorAll(".responsively-lazy"),b=a.length,c=0;c<b;c++)for(var d=a[c].parentNode;d&&"html"!==d.tagName.toLowerCase();)"undefined"===typeof d.responsivelyLazyScrollAttached&&(d.responsivelyLazyScrollAttached=!0,d.addEventListener("scroll",f)),d=d.parentNode};k()}var h=function(){if(m)var b=
null;window.addEventListener("resize",function(){n=window.innerWidth;q=window.innerHeight;m?(window.clearTimeout(b),b=window.setTimeout(function(){l()},300)):g=!0});m?(window.addEventListener("load",l),a()):(window.addEventListener("scroll",f),window.addEventListener("load",f),c());"undefined"!==typeof MutationObserver&&(new MutationObserver(function(){m?(a(),l()):(c(),g=!0)})).observe(document.querySelector("body"),{childList:!0,subtree:!0})};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",
h):h()}}return{run:l,isVisible:u}}();